# Changelog

All notable changes to this project will be documented in this file.

## [Day 5 - MCP Integration]

### Added
- **Notion MCP Integration**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Notion —á–µ—Ä–µ–∑ MCP (Model Control Protocol)
  - –ù–æ–≤—ã–π –º–æ–¥—É–ª—å `internal/notion/mcp.go` —Å –∫–ª–∏–µ–Ω—Ç–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Notion API
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü, –ø–æ–∏—Å–∫–∞ –∏ —Ä–∞–±–æ—Ç—ã —Å workspace
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NOTION_TOKEN`
- **–ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞**:
  - `/notion_save <–Ω–∞–∑–≤–∞–Ω–∏–µ>` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –≤ Notion
  - `/notion_search <–∑–∞–ø—Ä–æ—Å>` - –ø–æ–∏—Å–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –≤ Notion
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ—Ç–∞**:
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MCPClient –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É Bot
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç**: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö Notion
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ `env.example`

### Technical Details
- MCPClient —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å Notion REST API v1
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–¥ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏–ª–∏ –≤ workspace
- Graceful degradation –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Notion —Ç–æ–∫–µ–Ω–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å Notion
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ MCP –æ–ø–µ—Ä–∞—Ü–∏–π

## [Day 5.2 - Function Calling Integration]

### Added
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ Function Calling**: LLM —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç —Å–∞–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Notion
  - –†–∞—Å—à–∏—Ä–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `llm.Client` —Å –º–µ—Ç–æ–¥–æ–º `GenerateWithTools()`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ OpenAI function calling
  - –ù–æ–≤—ã–µ —Ç–∏–ø—ã: `ToolCall`, `FunctionCall`, `Function`, `Tool`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ Notion –¥–ª—è LLM**:
  - `save_dialog_to_notion` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤
  - `search_notion` - –ø–æ–∏—Å–∫ –≤ —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –±–µ—Å–µ–¥–∞—Ö  
  - `create_notion_page` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤**: –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç function calls

## [Day 5.3 - Production-Ready Notion Integration]

### Improved
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è Notion –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –≤–º–µ—Å—Ç–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö MCP SDK:
  - –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å Notion REST API v1 (–±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ)
  - –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ –∏–∑ markdown —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (h1, h2, h3), –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
  - –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞**: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å URL –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- **Graceful degradation**: —Ä–∞–±–æ—Ç–∞ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –∏–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- **HTTP timeout**: —Ç–∞–π–º–∞—É—Ç 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Notion
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ç–∏–ø–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### Removed
- –ü–æ–ø—ã—Ç–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ MCP SDK (modelcontextprotocol/go-sdk, llmcontext/gomcp)
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä (–ø–æ–∫–∞ API –Ω–µ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É—é—Ç—Å—è)

### Notes
- **–ü–æ—á–µ–º—É –Ω–µ MCP**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π MCP SDK –µ—â—ë –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (v0.2.0, unstable), –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ SDK –∏–º–µ—é—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ API
- **–ö–æ–≥–¥–∞ MCP**: –ö–æ–≥–¥–∞ SDK —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É—é—Ç—Å—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∞–≤–≥—É—Å—Ç 2025), –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ MCPClient

## [Day 5.4 - Official Notion MCP Integration]

### Added
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Notion MCP –∫–ª–∏–µ–Ω—Ç**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É `https://mcp.notion.com/mcp`
  - HTTP –∫–ª–∏–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSON-RPC 2.0 –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MCP —Å–µ—Å—Å–∏–∏
  - –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: `create_page`, `search`, `tools/list`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ 2024-11-05
- **OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Notion (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ —Ç–æ–∫–µ–Ω–æ–≤)
- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/notion-mcp-setup.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ MCP**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö JSON-RPC –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- **Graceful fallback**: –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ REST API –µ—Å–ª–∏ MCP –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### Improved
- **–õ—É—á—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ raw —Ç–æ–∫–µ–Ω–æ–≤
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç –∫–æ–º–∞–Ω–¥—ã Notion
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –°–µ—Ä–≤–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π Notion
- **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Notion app –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º

### Technical Details
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: JSON-RPC 2.0 over HTTPS
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `https://mcp.notion.com/mcp` (Streamable HTTP)
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: SSE (`/sse`) –∏ STDIO –ø—Ä–æ–∫—Å–∏
- **–í–µ—Ä—Å–∏—è MCP**: 2024-11-05 (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)
- **–¢–∞–π–º–∞—É—Ç**: 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°—Ç—Ä—É–∫—Ç—É—Ä—ã**: `MCPRequest`, `MCPResponse`, `MCPError` –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

### Benefits over direct API
- ‚úÖ **OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** vs —Ä—É—á–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** vs —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è  
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** vs —Ä—É—á–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª** vs custom —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–õ—É—á—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** vs —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏

## [Day 5.5 - Local Docker MCP Solution]

### Added
- **üê≥ Docker Notion MCP —Å–µ—Ä–≤–µ—Ä**: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ `mcp/notion:latest`
  - –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞: `./scripts/start-notion-mcp.sh`
  - Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è production
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ URL —á–µ—Ä–µ–∑ `NOTION_MCP_URL`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `http://localhost:3000/mcp` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Notion Integration Token
- **–ü–æ–ª–Ω–∞—è Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: 
  - `docker-compose.yml` –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
  - `Dockerfile` –¥–ª—è AI Chatter –±–æ—Ç–∞
  - `scripts/start-notion-mcp.sh` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/docker-mcp-setup.md`

### Improved
- **–£–±—Ä–∞–Ω–∞ OAuth —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–ª–æ–∂–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–õ—É—á—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å**: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –ø–æ–¥ –ø–æ–ª–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- **–ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞**: –î–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **Offline —Ä–∞–±–æ—Ç–∞**: –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –û–¥–∏–Ω —Ç–æ–∫–µ–Ω + Docker –∫–æ–º–∞–Ω–¥–∞

### Technical Details
- **Docker –æ–±—Ä–∞–∑**: `mcp/notion:latest` (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π)
- **–ü–æ—Ä—Ç**: 3000 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π)
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: `NOTION_TOKEN`, `NOTION_MCP_URL`
- **–°–µ—Ç—å**: Docker bridge –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
- **Volumes**: –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤

### Benefits over cloud MCP
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** vs OAuth flow
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** vs –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ **Offline —Ä–∞–±–æ—Ç–∞** vs –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚úÖ **Debugging –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** vs —á—ë—Ä–Ω—ã–π —è—â–∏–∫
- ‚úÖ **–ü—Ä—è–º—ã–µ —Ç–æ–∫–µ–Ω—ã** vs —Å–ª–æ–∂–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ—Å—Ç—å** vs —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## [Day 5.6 - Custom MCP Server Solution]

### Added
- **üèóÔ∏è –ö–∞—Å—Ç–æ–º–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä**: –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Go —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º MCP SDK
  - –ö–æ–º–∞–Ω–¥–∞: `go build -o notion-mcp-server cmd/notion-mcp-server/main.go`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `github.com/modelcontextprotocol/go-sdk@v0.2.0`
  - –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ stdio transport (subprocess)
  - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç 3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: `create_page`, `search`, `save_dialog_to_notion`
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π MCP –∫–ª–∏–µ–Ω—Ç**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º SDK
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `mcp.NewClient()` –∏ `mcp.NewCommandTransport()`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –∫–∞–∫ –ø–æ–¥–ø—Ä–æ—Ü–µ—Å—Å
  - –ü–µ—Ä–µ–¥–∞—ë—Ç `NOTION_TOKEN` —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `cmd/test-custom-mcp/main.go`
  - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤
  - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü  
  - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–∏—Å–∫ –ø–æ workspace
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã**: `scripts/test-custom-mcp.sh`

### Technical Architecture
- **–°–µ—Ä–≤–µ—Ä**: MCP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ stdio subprocess
- **–ö–ª–∏–µ–Ω—Ç**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CommandTransport` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å MCP spec 2024-11-05
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç**: JSON-RPC 2.0 —á–µ—Ä–µ–∑ stdin/stdout
- **API**: –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã Notion REST API v1

### Implementation Details
- **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: `CreatePageParams`, `SearchParams`, `SaveDialogParams`
- **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç MCP SDK generics
- **Graceful error handling**: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- **Metadata support**: –í–æ–∑–≤—Ä–∞—Ç `page_id`, `success`, –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- **Reusable logic**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `notion.MCPClient`

### Benefits over Docker approach
- ‚úÖ **–ù–∞—Ç–∏–≤–Ω–∞—è Go –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** vs Docker overhead
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è** vs –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑
- ‚úÖ **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π MCP SDK** vs HTTP –∫–ª–∏–µ–Ω—Ç
- ‚úÖ **Type safety** vs JSON –º–∞–ø—ã
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞** vs –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ **–ü—Ä—è–º–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è** vs Docker build

## [Day 5.7 - Custom MCP Server Fixes]

### Fixed
- **üêõ Panic fix**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å `nil pointer dereference` –≤ stdio transport
  - –ó–∞–º–µ–Ω—ë–Ω `&mcp.StdioTransport{}` –Ω–∞ `mcp.NewStdioTransport()`
  - –£–±—Ä–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `NewLoggingTransport` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è
- **üîÑ –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–º –≤—ã–∑–æ–≤–æ–º MCP –∫–ª–∏–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–µ—Ä–∞
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä—è–º–æ–π `NotionAPIClient` –≤–º–µ—Å—Ç–æ `notion.MCPClient`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `createPage`, `searchPages` –¥–ª—è –ø—Ä—è–º–æ–π —Ä–∞–±–æ—Ç—ã —Å Notion API
  - –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `ai-chatter/internal/notion` –≤ —Å–µ—Ä–≤–µ—Ä–µ
- **üîß –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è parent structure**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
  - –ò–∑–º–µ–Ω—ë–Ω parent —Å `page_id` –Ω–∞ `workspace` –¥–ª—è –∫–æ—Ä–Ω–µ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Notion API

### Added
- **üêõ Debug script**: `scripts/debug-mcp-server.sh` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞
- **üìù –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å–µ—Ä–≤–µ—Ä–∞
- **‚ö° –ü—Ä—è–º–æ–π API**: `NotionAPIClient` —Å –º–µ—Ç–æ–¥–∞–º–∏ `doNotionRequest`, `createPage`, `searchPages`

### Technical Details
- **Transport fix**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `mcp.NewStdioTransport()` –≤–º–µ—Å—Ç–æ struct literal
- **No circular deps**: –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ MCP –∫–ª–∏–µ–Ω—Ç–∞
- **Direct HTTP**: –ü—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ `https://api.notion.com/v1`
- **Error handling**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

### Benefits
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç –±–æ–ª—å—à–µ panic –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä—è–º—ã–µ API –≤—ã–∑–æ–≤—ã –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–æ—ë–≤
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞**: –ü—Ä–æ—Å—Ç–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: Proper error handling

## [Day 5.8 - Mandatory Parent Page ID]

### Changed
- **üîß Mandatory parent_page_id**: –°–ª–µ–¥—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É Notion API —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
  - `CreatePageParams.ParentPageID` —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  - `SaveDialogParams.ParentPageID` —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  - –í—Å–µ –º–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ parent_page_id
- **üìã –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Notion API**: –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
  ```json
  {
    "parent": {
      "type": "page_id", 
      "page_id": "12345678-90ab-cdef-1234-567890abcdef"
    }
  }
  ```

### Added
- **‚öôÔ∏è NOTION_PARENT_PAGE_ID**: –ù–æ–≤–∞—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **üìñ –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/notion-parent-page-setup.md`
  - –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å parent page ID –∏–∑ URL
  - –ö–∞–∫ –Ω–∞–π—Ç–∏ —á–µ—Ä–µ–∑ API
  - –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∏ –æ—à–∏–±–æ–∫
- **üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ parent_page_id –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
  - MCP —Å–µ—Ä–≤–µ—Ä –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - Telegram handlers –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### Technical Details
- **API compliance**: –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Notion API v1
- **Error handling**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è
- **Graceful fallback**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ default parent page –¥–ª—è create_notion_page
- **Config integration**: NOTION_PARENT_PAGE_ID –≤ config.Config

### Benefits
- ‚úÖ **API —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º Notion API
- ‚úÖ **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è**: –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ  
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞**: –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

### Breaking Changes
- **üî¥ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π NOTION_PARENT_PAGE_ID**: –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ .env
- **üî¥ –ò–∑–º–µ–Ω—ë–Ω API**: CreateDialogSummary —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç parentPageID –ø–∞—Ä–∞–º–µ—Ç—Ä
- **üî¥ –ò–∑–º–µ–Ω—ë–Ω API**: CreateFreeFormPage —Ç—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π parentPageID

### Migration Guide
1. –ü–æ–ª—É—á–∏—Ç–µ parent page ID –∏–∑ Notion (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é)
2. –î–æ–±–∞–≤—å—Ç–µ –≤ .env: `NOTION_PARENT_PAGE_ID=–≤–∞—à-page-id`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

## [Day 5.9 - Integration Tests & Improved LLM Feedback]

### Added
- **üß™ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**: `internal/notion/mcp_integration_test.go`
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ MCP
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü  
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤ workspace
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **üéØ NOTION_TEST_PAGE_ID**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **üìú –°–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**: `scripts/test-notion-integration.sh`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
  - Graceful cleanup

### Changed
- **üí¨ –£–ª—É—á—à–µ–Ω–Ω—ã–π feedback –æ—Ç LLM**: –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ MCP –¥–µ–π—Å—Ç–≤–∏–π:
  - üíæ "–°–æ—Ö—Ä–∞–Ω—è—é –¥–∏–∞–ª–æ–≥ –≤ Notion..." - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - üîç "–ò—â—É –≤ Notion..." - feedback –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
  - üìù "–°–æ–∑–¥–∞—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Notion..." - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏
  - ‚úÖ LLM —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - ‚ùå –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π

### Technical Details
- **Tool Call Pipeline**: –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ LLM tool calls
  1. LLM –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é (save_dialog_to_notion, search_notion, create_notion_page)
  2. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –Ω–∞—á–∞–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  3. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è MCP –≤—ã–∑–æ–≤
  4. –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ LLM
  5. LLM —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **ToolCallResult —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ù–æ–≤—ã–π —Ç–∏–ø –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ tool calls
- **Enhanced Message**: –î–æ–±–∞–≤–ª–µ–Ω ToolCallID –¥–ª—è tool response —Å–æ–æ–±—â–µ–Ω–∏–π
- **Continuous conversation**: `continueConversationWithToolResults()` –º–µ—Ç–æ–¥

### Integration Testing
- **Environment setup**: –ü—Ä–æ–≤–µ—Ä–∫–∞ NOTION_TOKEN –∏ NOTION_TEST_PAGE_ID
- **Real API testing**: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ —Ç–µ—Å—Ç–æ–≤–æ–π Notion
- **Graceful skipping**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π skip –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- **Timestamped test data**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### Benefits
- ‚úÖ **–õ—É—á—à–∏–π UX**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–æ–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞**: –ü—Ä–æ—Å—Ç–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è CI/CD –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ **Conversation flow**: LLM –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π

### Usage Examples

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–°–æ—Ö—Ä–∞–Ω–∏ –Ω–∞—à –¥–∏–∞–ª–æ–≥"
1. üíæ "–°–æ—Ö—Ä–∞–Ω—è—é –¥–∏–∞–ª–æ–≥ –≤ Notion..."
2. [MCP —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É]
3. ‚úÖ "–î–∏–∞–ª–æ–≥ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ Notion –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞'. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –µ–≥–æ –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫!"

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—à–ª—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö"
1. üîç "–ò—â—É –≤ Notion..."
2. [MCP –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫]
3. üìã "–ù–∞—à—ë–ª 3 –¥–∏–∞–ª–æ–≥–∞ –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö: –ø—Ä–æ–µ–∫—Ç –ê (15 —è–Ω–≤), –ø—Ä–æ–µ–∫—Ç –ë (22 —è–Ω–≤), –ø—Ä–æ–µ–∫—Ç –í (1 —Ñ–µ–≤). –ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"

## [Day 5.10 - CI/CD Integration Tests]

### Added
- **üöÄ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CI/CD pipeline**: GitHub Actions workflows
  - **ci.yml**: Unit tests + Integration tests + Cross-platform builds
  - **nightly-integration.yml**: –ù–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å—é  
  - **performance.yml**: Performance —Ç–µ—Å—Ç—ã –ø—Ä–∏ —Ä–µ–ª–∏–∑–∞—Ö
- **üìã –õ–æ–∫–∞–ª—å–Ω—ã–π CI —Å–∫—Ä–∏–ø—Ç**: `scripts/ci-local.sh`
  - –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ CI –ø—Ä–æ—Ü–µ—Å—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–±–æ—Ä–∫–∏, —Ç–µ—Å—Ç–æ–≤
  - Cross-platform build checks
  - Coverage –∞–Ω–∞–ª–∏–∑ —Å threshold –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- **üìñ CI Documentation**: `docs/ci-setup.md`
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets
  - –û—Ç–ª–∞–¥–∫–∞ CI –ø—Ä–æ–±–ª–µ–º
  - Performance monitoring
  - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ best practices

### Changed
- **üîÑ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π CI workflow**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø—ã
  - Unit tests - –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - Integration tests - —Ç–æ–ª—å–∫–æ –Ω–∞ main/develop —Å —Ä–µ–∞–ª—å–Ω—ã–º Notion API
  - Cross-platform - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ –Ω–∞ Windows/macOS/Linux
- **üìä Coverage reporting**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Codecov
- **üéØ Smart integration testing**: Graceful skip –µ—Å–ª–∏ secrets –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### Technical Details
- **GitHub Actions matrix**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏—è—Ö Go
- **Conditional execution**: Integration —Ç–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ secrets
- **Artifact management**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤, profiles, logs
- **Performance monitoring**: Memory/CPU profiling –ø—Ä–∏ —Ä–µ–ª–∏–∑–∞—Ö
- **Trend analysis**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏

### CI Pipeline Structure
```yaml
üîÑ Push/PR ‚Üí Unit Tests ‚Üí ‚úÖ Pass
                       ‚Üì
üåü main/develop ‚Üí Integration Tests ‚Üí üìä Coverage
                                   ‚Üì  
üåô Nightly ‚Üí Full Test Suite ‚Üí üìà Trend Analysis
          ‚Üì
üè∑Ô∏è Release Tag ‚Üí Performance Tests ‚Üí üîç Regression Check
```

### Local CI Usage
```bash
# –ü–æ–ª–Ω—ã–π pipeline
./scripts/ci-local.sh

# –û—Ç–¥–µ–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã  
./scripts/ci-local.sh test        # Unit —Ç–µ—Å—Ç—ã
./scripts/ci-local.sh build       # –°–±–æ—Ä–∫–∞
./scripts/ci-local.sh integration # Integration —Ç–µ—Å—Ç—ã
./scripts/ci-local.sh cross       # Cross-platform
```

### GitHub Secrets Setup
```yaml
Required for integration tests:
  NOTION_TOKEN: secret_abc123...
  NOTION_TEST_PAGE_ID: 12345678-90ab-cdef-...

Optional:
  CODECOV_TOKEN: –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π coverage –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
```

### Benefits
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω—ã–π CI/CD –±–µ–∑ —Ä—É—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ merge
- ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: Integration —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º Notion API
- ‚úÖ **Performance**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **Cross-platform**: –ì–∞—Ä–∞–Ω—Ç–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –≤—Å–µ—Ö –û–°
- ‚úÖ **Visibility**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ **Local development**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–º–∏—Ç–∞—Ü–∏–∏ CI –ª–æ–∫–∞–ª—å–Ω–æ

### Monitoring & Alerts
- üî¥ **Critical**: –°–±–æ–π integration tests –Ω–∞ main
- üü† **Warning**: Coverage –Ω–∏–∂–µ 75%
- üü° **Info**: –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (>5 –º–∏–Ω—É—Ç)
- üìä **Metrics**: Build time, test duration, API latency

## [Day 5.12 - List Available Pages & Smart Parent Selection]

### Added
- **üìã –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è list_available_pages**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü
  - **MCP Server**: `ListAvailablePages` —Ñ—É–Ω–∫—Ü–∏—è –≤ `cmd/notion-mcp-server/main.go`
    - –í–æ–∑–≤—Ä–∞—Ç –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ workspace —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Ç—å —Ä–æ–¥–∏—Ç–µ–ª–µ–º
    - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`page_type`) –∏ —Ç–æ–ª—å–∫–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ (`parent_only`)
    - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (`limit`, max 100, default 20)
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å ID, –Ω–∞–∑–≤–∞–Ω–∏–µ–º, URL, —Ç–∏–ø–æ–º –∏ —Ñ–ª–∞–≥–æ–º `can_be_parent`
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Ç—å —Ä–æ–¥–∏—Ç–µ–ª–µ–º (–≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Notion –º–æ–≥—É—Ç)
  - **MCP Client**: `ListAvailablePages` –º–µ—Ç–æ–¥ –≤ `internal/notion/mcp.go`
    - –ü–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
    - –ù–æ–≤—ã–µ —Ç–∏–ø—ã: `MCPAvailablePagesResult`, `MCPAvailablePageResult`
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  - **LLM Tool**: `list_available_pages` –≤ `internal/llm/tools.go`
    - –û–ø–∏—Å–∞–Ω–∏–µ: "–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ Notion workspace, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã"
    - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `limit` (int), `page_type` (string), `parent_only` (bool)
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
  - **Bot Integration**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ `internal/telegram/process.go`
    - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "üìã –ü–æ–ª—É—á–∞—é —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü..."
    - –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ function call
    - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å –Ω–æ–º–µ—Ä–∞—Ü–∏–µ–π, ID, —Ç–∏–ø–∞–º–∏ –∏ —Ñ–ª–∞–≥–∞–º–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–∞
    - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ URL –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### Enhanced Create Page Function
- **üîÑ –û–±–Ω–æ–≤–ª—ë–Ω create_notion_page**: –£–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  - **New Parameter**: `parent_page_id` - –ø—Ä—è–º–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  - **Backward Compatibility**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `parent_page`
  - **Priority Logic**: `parent_page_id` –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ `parent_page`
  - **Smart Default**: Fallback –Ω–∞ `NOTION_PARENT_PAGE_ID` –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ
  - **LLM Guidance**: –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `list_available_pages` –¥–ª—è –≤—ã–±–æ—Ä–∞
  - **Process Flow**: LLM –º–æ–∂–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü, –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â—É—é, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü—É

### New Data Types
- **ListPagesParams**: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ (Limit, PageType, ParentOnly)
- **AvailablePageResult**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (ID, Title, URL, CanBeParent, Type)
- **MCPAvailablePagesResult**: –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ MCP (Success, Message, Pages[], TotalFound)
- **MCPAvailablePageResult**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —á–µ—Ä–µ–∑ MCP

### Testing & Validation
- **Integration Tests**: –ù–æ–≤—ã–π —Ç–µ—Å—Ç `ListAvailablePages` –≤ `internal/notion/mcp_integration_test.go`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
  - –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ `parent_only` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ñ–ª–∞–≥–∞ `CanBeParent`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- **Custom MCP Test**: –û–±–Ω–æ–≤–ª—ë–Ω `cmd/test-custom-mcp/main.go`
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å ID, –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏ —Ñ–ª–∞–≥–∞–º–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ª–∏–º–∏—Ç–∞–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

### Smart Workflow
- **ü§ñ LLM Integration**: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  ```
  User: "–°–æ–∑–¥–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é"
  LLM: 1. Calls list_available_pages()
       2. Analyzes available pages
       3. Selects appropriate parent (e.g., "Development" or "Documentation")
       4. Calls create_notion_page(parent_page_id="selected-id")
  Bot: Creates subpage under the most suitable parent
  ```

### Use Cases
- **üèóÔ∏è Smart Page Organization**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **üìÇ Workspace Navigation**: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **üîó Parent Page Discovery**: –ü–æ–∏—Å–∫ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏
- **üìã Content Structuring**: –°–æ–∑–¥–∞–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü

### Benefits
- ‚úÖ **Smart Parent Selection**: LLM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ **Workspace Awareness**: –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ **Flexible Filtering**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Ç—å —Ä–æ–¥–∏—Ç–µ–ª–µ–º
- ‚úÖ **Hierarchical Organization**: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ **Backward Compatibility**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ API —Å –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ **User Experience**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–Ω–∞—Ç—å ID

### Technical Implementation
```yaml
MCP Server:
  - Tool: list_available_pages
  - Function: ListAvailablePages()
  - Validation: limit ‚â§ 100, type filtering
  - Output: Structured result with full page info

MCP Client:  
  - Method: ListAvailablePages(limit, pageType, parentOnly)
  - Returns: MCPAvailablePagesResult
  - Metadata: Full page information with capabilities

LLM Tools:
  - create_notion_page: Enhanced with parent_page_id support
  - list_available_pages: New tool for page discovery
  - Smart workflow: list ‚Üí analyze ‚Üí create with parent

Bot Handler:
  - Case: "list_available_pages" 
  - Enhanced: "create_notion_page" with parent_page_id
  - Smart: Automatic parent selection workflow
```

### Example Usage
```bash
User: "–°–æ–∑–¥–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–ª–∞–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–∞"
Bot: "üìã –ü–æ–ª—É—á–∞—é —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü..."
LLM: Uses list_available_pages tool
Bot: "üìã –ù–∞–π–¥–µ–Ω–æ 10 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:
     1. **Projects** (ID: abc123) ‚úÖ Can be parent
     2. **Team Docs** (ID: def456) ‚úÖ Can be parent
     ..."
LLM: Analyzes and selects "Projects" as appropriate parent
     Uses create_notion_page(title="–ü–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞", content="...", parent_page_id="abc123")
Bot: "üìù –°–æ–∑–¥–∞—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Notion..."
Bot: "‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ '–ü–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞' —Å–æ–∑–¥–∞–Ω–∞ –ø–æ–¥ 'Projects'"
```

### Intelligent Page Hierarchy
- **Context-Aware**: LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- **Automatic Organization**: –ë–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–Ω–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É workspace
- **Flexible Structure**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ Notion
- **Dynamic Discovery**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### Updated System Prompt
- **üìù Enhanced Notion Instructions**: –û–±–Ω–æ–≤–ª—ë–Ω `prompts/system_prompt.txt`
  - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Notion —Ñ—É–Ω–∫—Ü–∏–π
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ smart page organization
  - Workflow –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º —Ä–æ–¥–∏—Ç–µ–ª—è
  - Best practices –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è search –∏ list —Ñ—É–Ω–∫—Ü–∏–π
  - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è (API docs ‚Üí Development, meeting notes ‚Üí Team)
  - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é exact_match –≤ –ø–æ–∏—Å–∫–µ

### Fixed
- **üêõ Response Length Optimization**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "Provider returned error (400)" –∏–∑-–∑–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
  - **MCP Server**: –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ –≤ `SearchPagesWithID` –∏ `ListAvailablePages`
    - –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ —Ä–∞–∑–º–µ—Ç–∫–∞ (**bold**) –∏ –¥–µ—Ç–∞–ª–∏ URL –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    - –ö—Ä–∞—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç: "1. Page Title (ID: abc123)" –≤–º–µ—Å—Ç–æ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ
    - –°–Ω–∏–∂–µ–Ω—ã –ª–∏–º–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: search 5‚Üí20 (–±—ã–ª–æ 10‚Üí50), list 10‚Üí25 (–±—ã–ª–æ 20‚Üí100)
  - **Bot Responses**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç–≤–µ—Ç—ã –≤ `internal/telegram/process.go`
    - –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –¥–µ—Ç–∞–ª–∏ (URL, –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Ç–∏–ø—ã)
    - –ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å emoji –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ (‚úÖ) –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞
    - –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∞ –¥–ª–∏–Ω–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ LLM –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - **LLM Tools**: –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –≤ `internal/llm/tools.go`
    - search_pages_with_id: "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5, –º–∞–∫—Å–∏–º—É–º 20"  
    - list_available_pages: "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10, –º–∞–∫—Å–∏–º—É–º 25"
    - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è token limits —É LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
  - **LLM Call Fix**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ LLM –¥–ª—è tool call —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    - –ó–∞–º–µ–Ω—ë–Ω `Generate` –Ω–∞ `GenerateWithTools` (–∫–∞–∫ –≤ –æ–±—ã—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö)
    - –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è tools –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
    - –£–±—Ä–∞–Ω—ã –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –æ—Ç–≤–µ—Ç–æ–≤
    - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## [Day 5.11 - Search Pages with ID Function]

### Added
- **üîç –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è search_pages_with_id**: –ü–æ–∏—Å–∫ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ Notion —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º ID, –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ URL
  - **MCP Server**: `SearchPagesWithID` —Ñ—É–Ω–∫—Ü–∏—è –≤ `cmd/notion-mcp-server/main.go`
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—á–Ω–æ–≥–æ –∏ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ (`exact_match`)
    - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (`limit`, max 50)
    - –í–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å ID, –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ URL
    - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - **MCP Client**: `SearchPagesWithID` –º–µ—Ç–æ–¥ –≤ `internal/notion/mcp.go`
    - –ü–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç `MCPPageSearchResult` —Å –º–∞—Å—Å–∏–≤–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü
    - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - **LLM Tool**: `search_pages_with_id` –≤ `internal/llm/tools.go`
    - –û–ø–∏—Å–∞–Ω–∏–µ: "–ò—â–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Notion –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö ID, –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ URL"
    - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `query` (required), `exact_match` (bool), `limit` (int)
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –∫–æ–≥–¥–∞ LLM –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID
  - **Bot Integration**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ `internal/telegram/process.go`
    - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "üîç –ò—â—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Notion..."
    - –ü–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ function call
    - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –Ω–æ–º–µ—Ä–∞—Ü–∏–µ–π
    - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ ID, –Ω–∞–∑–≤–∞–Ω–∏–π –∏ URL –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### New Data Types
- **PageSearchResult**: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (ID, Title, URL)
- **SearchPagesParams**: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ (Query, Limit, ExactMatch)  
- **MCPPageSearchResult**: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ MCP (Success, Message, Pages[], TotalFound)
- **MCPPageResult**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (ID, Title, URL)

### Testing
- **Integration Tests**: –ù–æ–≤—ã–π —Ç–µ—Å—Ç `SearchPagesWithID` –≤ `internal/notion/mcp_integration_test.go`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π ID –∏ –Ω–∞–∑–≤–∞–Ω–∏–π
  - –¢–µ—Å—Ç —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å
- **Custom MCP Test**: –û–±–Ω–æ–≤–ª—ë–Ω `cmd/test-custom-mcp/main.go`
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü —Å ID
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å ID –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ª–∏–º–∏—Ç–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Use Cases
- **üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é**: "–ù–∞–π–¥–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É '–ü—Ä–æ–µ–∫—Ç Alpha'" ‚Üí –≤–æ–∑–≤—Ä–∞—Ç ID –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **üìã –ë—Ä–∞—É–∑–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü**: "–ü–æ–∫–∞–∂–∏ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ —Å–ª–æ–≤–æ–º '–æ—Ç—á—ë—Ç'" ‚Üí —Å–ø–∏—Å–æ–∫ —Å ID –∏ —Å—Å—ã–ª–∫–∞–º–∏
- **üîó –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ URL —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞
- **ü§ñ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ö–æ–≥–¥–∞ LLM –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–æ –Ω—É–∂–µ–Ω ID

### Benefits
- ‚úÖ **Structured Output**: –í–æ–∑–≤—Ä–∞—Ç ID, –Ω–∞–∑–≤–∞–Ω–∏—è –∏ URL –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- ‚úÖ **Flexible Search**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—á–Ω–æ–≥–æ –∏ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ **Performance**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- ‚úÖ **User Experience**: –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
- ‚úÖ **LLM Ready**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ tool calling –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **Error Handling**: Graceful –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Technical Implementation
```yaml
MCP Server:
  - Tool: search_pages_with_id
  - Function: SearchPagesWithID()
  - Validation: limit ‚â§ 50, non-empty query
  - Output: Structured result with meta

MCP Client:  
  - Method: SearchPagesWithID(query, limit, exactMatch)
  - Returns: MCPPageSearchResult
  - Metadata: Parsing structured results from MCP

Bot Handler:
  - Case: "search_pages_with_id"
  - Notification: "üîç –ò—â—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Notion..."
  - Response: Formatted list with numbering
```

### Example Usage
```bash
User: "–ù–∞–π–¥–∏ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"
Bot: "üîç –ò—â—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Notion..."
LLM: Uses search_pages_with_id tool
Bot: "üîç –ù–∞–π–¥–µ–Ω–æ 3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
      1. **Testing Guide** 
         ID: 123abc-456def
         URL: https://notion.so/...
      2. **Unit Tests** 
         ID: 789ghi-012jkl
         URL: https://notion.so/..."
```

### Fixed
- **üîß test-custom-mcp validation**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `NOTION_TEST_PAGE_ID`
  - `cmd/test-custom-mcp/main.go`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å –ø–æ–Ω—è—Ç–Ω–æ–π –æ—à–∏–±–∫–æ–π
  - `scripts/test-custom-mcp.sh`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  - `scripts/test-notion-integration.sh`: –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
  - Graceful handling –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö environment variables
  - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é Notion page ID
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç**: LLM –∑–Ω–∞–µ—Ç –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

### How it works
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–æ—Ö—Ä–∞–Ω–∏ —ç—Ç—É –±–µ—Å–µ–¥—É"
- LLM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `save_dialog_to_notion` —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
- –ë–æ—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∏–∞–ª–æ–≥ –≤ Notion
- –ù–∏–∫–∞–∫–∏—Ö —Ä—É—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

### Compatibility
- **OpenAI/OpenRouter**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ function calling
- **YandexGPT**: Graceful fallback –±–µ–∑ function calling
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ (–Ω–µ –≤ —Ä–µ–∂–∏–º–µ –¢–ó)

## [Day 1-2]

### Added
- **Project Structure**: Initialized a Go project with a modular structure (`cmd`, `internal`).
- **Configuration Management**: Implemented configuration loading from environment variables using `godotenv` and `caarlos0/env`.
- **Telegram Bot Integration**: Added a basic Telegram bot using `go-telegram-bot-api`.
- **LLM Client Abstraction**: Created a common `llm.Client` interface to support multiple LLM providers.
- **OpenAI Client**: Implemented a client for OpenAI-compatible APIs.
- **YandexGPT Client**: Implemented a client for YandexGPT using `Morwran/yagpt`.
- **LLM Provider Selection**: Added the ability to choose the LLM provider (`openai` or `yandex`) via the `LLM_PROVIDER` environment variable.
- **User Authorization**: Created a service to restrict bot access to a list of allowed user IDs.
- **Flexible API Endpoint**: Added the ability to specify a custom `BaseURL` for the LLM API via the `OPENAI_BASE_URL` environment variable.
- **Flexible Model Selection**: Added the ability to specify the LLM model name via the `OPENAI_MODEL` environment variable, with `gpt-3.5-turbo` as the default.
- **Enhanced Unauthorized User Handling**: The bot now replies to unauthorized users with a "request sent for review" message and logs their user ID and username.
- **.env Loading**: Improved `.env` loading to search multiple common locations (`.env`, `../.env`, `cmd/bot/.env`).
- **System Prompt**: Added `SYSTEM_PROMPT_PATH` and support for a system prompt file; passed to both OpenAI and YaGPT clients.
- **Logging**: Added logging of incoming user messages and LLM responses (model name and token usage).
- **Response Meta Line**: Bot prepends each answer with `[model=..., tokens: prompt=..., completion=..., total=...]`.
- **Per-user Conversation History**: Implemented a thread-safe history manager; the context is isolated per user and included in LLM requests.
- **Reset Context Button**: Added an inline button "–°–±—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç" in Telegram; clears only the requesting user's history.
- **LLM Context Refactor**: Refactored `llm.Client` interface to `Generate(ctx, []llm.Message)` and updated OpenAI/YaGPT clients to accept full message history.
- **History Summary**: Added an inline button "–ò—Å—Ç–æ—Ä–∏—è" to request a summary of the user's conversation with the assistant; the summary is logged, sent to the user (with meta line), and appended back to the user's history.
- **Storage Abstraction**: Introduced `storage.Recorder` and `storage.Event` for pluggable persistence.
- **File Logger (JSONL)**: Implemented file-based recorder writing one JSON per line to `LOG_FILE_PATH` (default `logs/log.jsonl`).
- **History Restore**: On startup, the bot preloads events from the recorder and reconstructs per-user history.
- **Config**: Added `LOG_FILE_PATH` env var to configure the path for JSONL log file.
- **Admin Approval Flow**: Added `ADMIN_USER` env var. Unauthorized user requests are sent to the admin with inline buttons "—Ä–∞–∑—Ä–µ—à–∏—Ç—å"/"–∑–∞–ø—Ä–µ—Ç–∏—Ç—å".
- **Allowlist Storage**: Introduced `auth.Repository` abstraction and file-based JSON allowlist (`ALLOWLIST_FILE_PATH`, default `data/allowlist.json`) storing `{id, username, first_name, last_name}`; approvals/denials update file and in-memory state.
- **/start Improvements**: Added welcome message with hints about inline buttons; auto-sends access request to admin and informs the user.
- **Pending Storage**: Added file-based pending repository (`PENDING_FILE_PATH`, default `data/pending.json`) to persist pending access requests across restarts.
- **Admin Pending Commands**: Added `/pending` to list pending users and `/approve <user_id>`, `/deny <user_id>` to allow/deny; updates pending file and allowlist on the fly.
- **Pending UX**: If a user has already requested access, bot no longer spams admin and informs the user to wait for approval.
- **Markdown Formatting**: Added `MESSAGE_PARSE_MODE` env var (now default `HTML`). All outgoing messages support HTML/Markdown/MarkdownV2.
- **CI**: Added GitHub Actions workflow to build and run tests on pushes/PRs to `main` and `develop`.
- **Unit Tests**: Added tests for history, storage, auth, pending, and telegram logic (including JSON parsing of LLM responses).
- **OpenRouter Support**: Added optional OpenRouter headers (`OPENROUTER_REFERRER`, `OPENROUTER_TITLE`) and README instructions; set `OPENAI_BASE_URL=https://openrouter.ai/api/v1` and supply OpenRouter model names.
- **Admin Provider/Model Hot-Reload**: Added `/provider <openai|yandex>` and `/model <openai/gpt-5-nano|openai/gpt-oss-20b:free|qwen/qwen3-coder>`; selections persisted in `data/provider.txt` and `data/model.txt` and applied without restart.
- **Startup Notice**: On bot start, logs "Bot started" and sends admin a message with current provider and model.
- **JSON Output Contract**: System prompt now enforces a JSON response structure `{title, answer, meta}` without markdown fences; bot parses it, sends only title+answer to the user, and stores `meta` for context.
- **Flexible `meta` Parsing**: `meta` can be a string or a JSON object/array; objects are compacted to a single-line JSON string for storage/context.
- **Context Flags**: History entries now track `isUsedInContext`. Reset marks all user entries as unused (kept in history).
- **Persistent `can_use`**: JSONL events include optional `can_use` flag; on reset the bot rewrites the log setting `can_use=false` for the user, so context state survives restarts.

## [Day 3]
- TS flow: reintroduced JSON field `status` with values `continue|final`. When `status=final` and user is in `/tz` mode, the bot decorates the answer with a "–¢–ó –ì–æ—Ç–æ–≤–æ" marker and exits TZ mode.
- LLM responses: schema simplified to `{title, answer, compressed_context, status}`; `compressed_context` is appended into per-user system prompt and disables previous history for context.
- Logging: restored detailed logs for LLM interactions ‚Äî outbound messages (purpose, roles, sizes, truncated contents) and inbound responses (model, token usage, raw content).
- System prompt: updated to describe the new schema including `status` and the 80% context fullness rule; clarified that the model must not use formatting in its `answer`.
- TZ mode cap: limited the clarification phase to at most 15 assistant messages. Upon reaching the cap, the bot forces finalization (requests a final TS) and returns the result with the "–¢–ó –ì–æ—Ç–æ–≤–æ" marker.

## [Day 4]
- TS flow: reintroduced JSON field `status` with values `continue|final`. When `status=final` and user is in `/tz` mode, the bot decorates the answer with a "–¢–ó –ì–æ—Ç–æ–≤–æ" marker and exits TZ mode.
- LLM responses: schema simplified to `{title, answer, compressed_context, status}`; `compressed_context` is appended into per-user system prompt and disables previous history for context.
- Logging: restored detailed logs for LLM interactions ‚Äî outbound messages (purpose, roles, sizes, truncated contents) and inbound responses (model, token usage, raw content).
- System prompt: updated to describe the new schema including `status` and the 80% context fullness rule; clarified that the model must not use formatting in its `answer`.
- TZ mode cap: limited the clarification phase to at most 15 assistant messages. Upon reaching the cap, the bot forces finalization (requests a final TS) and returns the result with the "–¢–ó –ì–æ—Ç–æ–≤–æ" marker.
- Refactor: split Telegram logic into `bot.go`, `handlers.go`, `process.go`; unified finalization path via a single `sendFinalTS` function.
- Numbered questions: enforced numbered list of clarifying questions (1., 2., ...) each on a new line; auto-enforced before sending when needed.
- Context reset on `/tz`: previous user history is marked as not used (and persisted via `can_use=false`) before starting a new TZ session.
- Secondary model (model2):
  - Added admin command `/model2 <model>` with persistence to `data/model2.txt`; lazy initialization of a second LLM client.
  - After sending final TS, the bot announces preparation and generates a user instruction (recipe/implementation plan) with the second model, then sends it.
  - During TZ, after each primary model response, the second model acts as a checker: receives only `answer` and `status`, returns JSON `{ "status": "ok|fail", "msg": "..." }`. On `fail`, the bot auto-corrects the primary response using the first model with the provided `msg` and sends the corrected answer to the user.
- Logging of checker/correction: persisted `[tz_check]` responses and `[tz_correct_req]` correction intents to the JSONL log (not used in context).
- Tests: updated and added unit tests for finalization flow, forced finalization at cap, numbered formatting, model2 usage (`/model2`), and checker-based correction.

## [Refactoring - 2025-01-27]

### Refactored
- **LLM Factory Pattern**: –°–æ–∑–¥–∞–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞ `llm.Factory` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è LLM –∫–ª–∏–µ–Ω—Ç–æ–≤, —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ `main.go`, `bot.go`
- **Configuration Fix**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `MODEL_FILE_PATH` –¥–ª—è `Model2FilePath`, —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `MODEL2_FILE_PATH`
- **Bot Structure Cleanup**: –£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–ª—è –∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `Bot` (openaiAPIKey, openaiBaseURL, etc), —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `llmFactory`
- **Dynamic Model Lists**: –ó–∞–º–µ–Ω–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ `llm.AllowedModels`
- **Improved Error Handling**: –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ LLM –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏

### Technical Improvements
- –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π –≤ Bot struct —Å ~20 –¥–æ ~15
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è LLM –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ 3 –º–µ—Å—Ç–∞—Ö
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –£–ø—Ä–æ—â–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### Added
- **TZ Test Mode**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç-—Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¢–ó (`/tz test <—Ç–µ–º–∞>`)
- **Dual Model Architecture**: Model1 (TZ generator) + Model2 (auto-responder) –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Response Validation**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–æ–≤ –º–æ–¥–µ–ª–∏ (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ```json –±–ª–æ–∫–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã)
- **Auto-failure Handling**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å –æ—á–∏—Å—Ç–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- **Test Coverage**: Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
